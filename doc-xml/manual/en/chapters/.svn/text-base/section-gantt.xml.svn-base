<?xml version="1.0" encoding="UTF-8"?>
<?oxygen RNGSchema="http://www.oasis-open.org/docbook/xml/5.0/rng/docbookxi.rng" type="xml"?>
<sect1 version="5.0" xmlns="http://docbook.org/ns/docbook"
    xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xi="http://www.w3.org/2001/XInclude"
    xml:id="sec.gantt-charts">
    <title>Gantt charts</title>
    <para>Gantt charts are used to give an easy overview of the extension in time of one or several
        activities (possible grouped). In addition the gantt chart can show an ordinal relation
        between one or several activities such as "<emphasis role="italic">activity A needs to be
            finished before activity B can start</emphasis>". </para>
    <para>The shape of each activity can also be adjusted as well as color and size. Some of the
        capabilities of the Gantt module in the library are listed below.</para>
    <para>
        <itemizedlist>
            <listitem>
                <para><emphasis role="bold">Overall gantt graph features</emphasis></para>
                <para>
                    <itemizedlist>
                        <listitem>
                            <para>Visualization of constraints between activities, start-to-start,
                                start-to-end, end-to-start and end-to-end</para>
                        </listitem>
                        <listitem>
                            <para>Unlimited number of activities (up to memory and time constrains
                                of PHP)</para>
                        </listitem>
                        <listitem>
                            <para>Full support for independent CSIM for both labels and activity
                                bars</para>
                        </listitem>
                        <listitem>
                            <para>Support for visualization of grouped activities</para>
                        </listitem>
                        <listitem>
                            <para>Gantt charts can be automatically sized according to the number of
                                bars and scale used. </para>
                        </listitem>
                        <listitem>
                            <para>Supports title and subtitle with user specified font, size and
                                color</para>
                        </listitem>
                        <listitem>
                            <para>Supports vertical marker lines with text</para>
                        </listitem>
                        <listitem>
                            <para>Full support for CSIM (or drill down graphs)</para>
                        </listitem>
                        <listitem>
                            <para>Alternate row colors</para>
                        </listitem>
                    </itemizedlist>
                </para>
            </listitem>
            <listitem>
                <para><emphasis role="bold">Scale features</emphasis></para>
                <para>
                    <itemizedlist>
                        <listitem>
                            <para>Both automatic and fully automatic scale</para>
                        </listitem>
                        <listitem>
                            <para>Flexible scale with options to display up to 6 lines of scale
                                headers (year,month,week,day,hour,minute)</para>
                        </listitem>
                        <listitem>
                            <para>Supports platform independent Week number calculation according to
                                ISO:8601</para>
                        </listitem>
                        <listitem>
                            <para>Scales grids are intelligent not to overwrite smaller resolution
                                scales</para>
                        </listitem>
                        <listitem>
                            <para>Scale headers can be localized</para>
                        </listitem>
                        <listitem>
                            <para>Full user configurable scales</para>
                        </listitem>
                        <listitem>
                            <para>Each scale header is configurable in terms of font, size, color,
                                background, grid lines etc.</para>
                        </listitem>
                    </itemizedlist>
                </para>
            </listitem>
            <listitem>
                <para><emphasis role="bold">Activity bars</emphasis></para>
                <para>
                    <itemizedlist>
                        <listitem>
                            <para>can have multiple patterns and colors</para>
                        </listitem>
                        <listitem>
                            <para>can have progress indicators</para>
                        </listitem>
                        <listitem>
                            <para>can have drop shadow</para>
                        </listitem>
                        <listitem>
                            <para>titles can have individual fonts, colors and backgrounds</para>
                        </listitem>
                        <listitem>
                            <para>can have captions</para>
                        </listitem>
                        <listitem>
                            <para>can have specified left- and right end markers</para>
                        </listitem>
                        <listitem>
                            <para>heights can be specified in absolute pixels or in percent of the
                                activity line width</para>
                        </listitem>
                    </itemizedlist>
                </para>
            </listitem>
            <listitem>
                <para><emphasis role="bold">Milestones</emphasis></para>
                <para>
                    <itemizedlist>
                        <listitem>
                            <para>can have user selectable shape and color</para>
                        </listitem>
                        <listitem>
                            <para>titles can have individual fonts, colors and backgrounds</para>
                        </listitem>
                        <listitem>
                            <para>can have captions</para>
                        </listitem>
                    </itemizedlist>
                </para>
            </listitem>
        </itemizedlist>
    </para>
    <para>An example of a small Gantt chart is shown in <xref xlink:href="#fig.ganttmonthyearex2"
        /></para>
    <para>
        <programlisting>#=ganttmonthyearex2|A typical small Gantt chart#</programlisting>
    </para>
    <para>The remainder of this section will be used to discuss most of the formatting options for
        Gantt charts.</para>
    <note>
        <para>There is one restrictions of the date scale and that is that it cannot have any
            "holes" the dates must be continues.</para>
    </note>
    <sect2>
        <title>The structure of a Gantt chart</title>
        <para>To understand the terminology used for Gantt chart <xref
                xlink:href="#fig.gantt-building-blocks"/> shows a typical chart with indications of
            the name of each main building block of the chart.</para>
        <para>
            <figure xml:id="fig.gantt-building-blocks">
                <title>Building block of a Gantt chart</title>
                <mediaobject>
                    <imageobject><imagedata
                            fileref="images/gantt-properties-original-amended-small.png"
                        /></imageobject>
                </mediaobject>
            </figure>
        </para>
        <para>In addition to the specific Gantt formatting that will be discussed in the following
            sections all the previously explained graph embellishment like the options of adding
            texts, icons, changing font and color of titles, adding footers etc. are also available
            for Gantt charts.</para>
        <para>A Gantt chart is made up of four distinct areas:</para>
        <para>
            <orderedlist>
                <listitem>
                    <para>On the left side there is the activity title column.</para>
                </listitem>
                <listitem>
                    <para>On the top there is the scale headers (up to six headers may be
                        displayed)</para>
                </listitem>
                <listitem>
                    <para>The actual plot area where all the activity Gantt bars and markers are
                        placed</para>
                </listitem>
                <listitem>
                    <para>The margin area, where for example the titles are shown</para>
                </listitem>
            </orderedlist>
        </para>
        <para>The steps to crate a Gantt charts is similar to creating a cartesian plot. First an
            instance of the main graph canvas is created (as an instance of <code>class
                GanttGraph</code>) and then one or more "plots" are created an added to the graph.
            For Gantt graph the "plots" that can be added are typically</para>
        <para>
            <itemizedlist>
                <listitem>
                    <para>Activity bars (we will also use the name Gantt bars as synonym) that
                        indicates the length (and possible progress) of one activity. An activity
                        bar is created as an instance of <code>class GanttBar</code></para>
                </listitem>
                <listitem>
                    <para>Milestone marks, this can be thought of as a special activity bar with
                        length = 0 and is often used to indicate a milestone or a deadline in the
                        Gantt chart. A milestone is created as an instance of <code>class
                            Milestone</code></para>
                </listitem>
                <listitem>
                    <para>A phase divider, this is a vertical line that can be added at specific
                        dates and is often used to mark then end and beginning of phases i a
                        project. A divider is created as an instance of <code>class
                            GanttVLine</code> (for Gantt Vertical Line)</para>
                </listitem>
                <listitem>
                    <para>A background pattern for a specific date range, this is often used to
                        indicate holidays, public holidays or periods of special interest in the
                        project</para>
                </listitem>
                <listitem>
                    <para>An arbitrary icon, this is either a predefined image or one of the built
                        in markers in the library. This is created as an instance of <code>class
                            IconImage</code></para>
                </listitem>
            </itemizedlist>
        </para>
        <para>All these objects may be extensively modified in terms of formatting., colors (both
            fill- and frame color), size, titles, style and patterns etc. All objects have basic
            default values so it is not strictly speaking necessary to adjust them. However, the
            basic default values will give the charts a very simple look.</para>
    </sect2>
    <sect2>
        <title>Creating a Gantt graph</title>
        <para>In order to create a Gantt graph the module "<filename>jpgraph_gantt.php</filename>"
            must be included together with the core module "<filename>jpgraph.php</filename>"</para>
        <para>A Gantt graph is created as an instance of <code>class GanttGraph</code> which
            inherits much of the same formatting options available for standard x-y graphs, for
            example titles, backgrounds, adding icons, adding texts and so on.</para>
        <para>There is one crucial difference between all the other graph types and Gantt charts and
            that is the fact that for all other graphs both the height and width of the graph must
            be specified. For Gantt graphs this is not true. </para>
        <para>Gantt graphs can be either </para>
        <para>
            <itemizedlist>
                <listitem>
                    <para>fully automatically sized</para>
                </listitem>
                <listitem>
                    <para>have the width specified but the height automatically determined by the
                        number of activities added to the graph</para>
                </listitem>
                <listitem>
                    <para>fully specified with both width and height</para>
                </listitem>
            </itemizedlist>
        </para>
        <para>This means that all the following gantt graph creations are valid</para>
        <para>
            <programlisting>&lt;?php
// Fully automatic
$ganttgraph = new GanttGraph();

// Semi automatic (automatically determined height)
$ganttgraph = new GanttGraph(800);

// Fully manual
$ganttgraph = new GanttGraph(800,500);
?></programlisting>
        </para>
        <para>
            <note>
                <para>If the specified width and height is too small to have room for all the
                    activities specified the activities will be clipped to the specified date
                    range.</para>
            </note>
        </para>
        <para>The creation of a full Gantt graph follows the now familiar pattern of</para>
        <para>
            <orderedlist>
                <listitem>
                    <para>Create the graph (as shown above) and specify the overall formatting
                        options (e.g. titles, colors etc)</para>
                </listitem>
                <listitem>
                    <para>Create the plot objects that should be added to the graph (e.g. activity
                        bars, milestones, icons, texts etc) and format them as wanted</para>
                </listitem>
                <listitem>
                    <para>Add the object to the graph, with a call to
                        <code>GanttGraph::Add()</code>, i.e. the activities, milestones etc.</para>
                </listitem>
                <listitem>
                    <para>Send the graph back to the client or save it directly to a file, with a
                        call to <code>GanttGraph::Stroke()</code></para>
                </listitem>
            </orderedlist>
        </para>
        <note>
            <para>Even though there is no limit for the size of the Gantt chart (apart from
                available memory and execution time limit specified in
                "<filename>php.ini</filename>") the library defines two constants
                    <code>MAX_GANTTIMG_SIZE_W</code> and <code>MAX_GANTTIMG_SIZE_H</code> that sets
                the maximum allowed image size for a Gantt chart. This is primarily meant to
                discover scripts gone wrong that tries to make very large images (perhaps by some
                non-properly terminating loops). If the overall image size becomes larger than these
                limit an error message will be shown.</para>
        </note>
    </sect2>
    <sect2>
        <title>Adjusting the scale headers</title>
        <para>A gantt chart must always have at least one scale header and at most six scale headers
            (see <xref xlink:href="#fig.gantt-building-blocks"/>). Usually it is not advisable to
            use more than three scale headers at the same time. Having multiple scale headers allow
            the specification of the same date range but with different resolutions.</para>
        <para>The library makes six different scale headers available which is identified by a
            symbolic constant that is logically combined to specify the wanted headers using the
            method</para>
        <para>
            <itemizedlist>
                <listitem>
                    <para><code>GanttGraph::ShowHeaders($aHeaderSelection)</code></para>
                </listitem>
            </itemizedlist>
        </para>
        <para>The <code>$aHeaderSelection</code> argument is a binary combination of one or more of
            the following specifiers that indicates the interval used in the header</para>
        <para>
            <orderedlist>
                <listitem>
                    <para>GANTT_HMIN, Minute interval header (See <xref
                            xlink:href="#sec.minute-scale-header"/> for label format options)</para>
                </listitem>
                <listitem>
                    <para>GANTT_HHOUR, Hour interval header (See <xref
                            xlink:href="#sec.hour-scale-header"/> for label format options)</para>
                </listitem>
                <listitem>
                    <para>GANTT_HDAY, Day interval header (See <xref
                            xlink:href="#sec.day-scale-header"/> for label format options)</para>
                </listitem>
                <listitem>
                    <para>GANTT_HWEEK, Week interval header (See <xref
                            xlink:href="#sec.week-scale-header"/> for label format options)</para>
                </listitem>
                <listitem>
                    <para>GANTT_HMONTH, Month interval header (See <xref
                            xlink:href="#sec.month-scale-header"/> for label format options)</para>
                </listitem>
                <listitem>
                    <para>GANTT_HYEAR, Year interval header (See <xref
                            xlink:href="#sec.year-scale-header"/> for label format options)</para>
                </listitem>
            </orderedlist>
        </para>
        <para>For example to show a year, month and week header the following line would be
            used</para>
        <para>
            <programlisting>$graph->ShowHeaders( GANTT_HYEAR | GANTT_HMONTH | GANTT_HWEEK ); </programlisting>
        </para>
        <para>Any combination of the listed headers above can be used. The scale headers will always
            be drawn with the larger header rage on top ot a header with smaller range.</para>
        <para>Scale headers week, day, hour , minute have a minimum span of 1 unit. This means that
            if, for example, the week header is displayed the minimum width of the overall scale is
            one week.</para>
        <para>
            <caution>
                <para>The overall minimum size of the scale regardless of what scale headers are
                    displayed is one day. This means that it is not possible to just create a Gantt
                    graph with , say 6 hour.</para>
            </caution>
        </para>
        <para>Specifying the wanted headers is the first step in controlling the header. The next
            step is to specify the format that should be used to print the date label in each of the
            selected headers. For example the week interval header will have a label at the start of
            every week. This could for example be indicated as week number, day of month, full date
            and so on. In order to adjust the headers the appropriate header instance variable must
            be access. The header instance variables are</para>
        <para>
            <orderedlist>
                <listitem>
                    <para><code>Graph::scale::minute</code></para>
                </listitem>
                <listitem>
                    <para><code>Graph::scale::hour</code></para>
                </listitem>
                <listitem>
                    <para><code>Graph::scale::day</code></para>
                </listitem>
                <listitem>
                    <para><code>Graph::scale::week</code></para>
                </listitem>
                <listitem>
                    <para><code>Graph::scale::month</code></para>
                </listitem>
                <listitem>
                    <para><code>Graph::scale::year</code></para>
                </listitem>
            </orderedlist>
        </para>
        <para>The connection with the scale headers are shown in <xref
                xlink:href="#fig.gantt-scale-headers"/> which shows a cut out part of a larger gantt
            chart</para>
        <para>
            <figure xml:id="fig.gantt-scale-headers">
                <title>The Gantt scale properties</title>
                <mediaobject>
                    <imageobject><imagedata fileref="images/gantt-scale-headers-amended.png"
                        /></imageobject>
                </mediaobject>
            </figure>
        </para>
        <para>All the headers are an instance of <code>class HeaderProperty</code> and supports the
            following formatting methods</para>
        <para>
            <itemizedlist>
                <listitem>
                    <para><code>HeaderProperty::SetFont($aFontFamily,$aFontStyle,$aFontSize)</code></para>
                    <para>Specify the font to be used for the label</para>
                </listitem>
                <listitem>
                    <para><code>HeaderProperty::SetFontColor($aColor)</code></para>
                    <para>Specify the font color to use</para>
                </listitem>
                <listitem>
                    <para><code>HeaderProperty::SetStyle($aStyle)</code></para>
                    <para>The style depends on the actual header and all available styles for each
                        header are shown below. The style specifies the format used for the scale
                        header label</para>
                </listitem>
                <listitem>
                    <para><code>HeaderProperty::SetBackgroundColor($aColor)</code></para>
                    <para>Set the header background color</para>
                </listitem>
                <listitem>
                    <para><code>HeaderProperty::SetFrameWeight($aWeight)</code></para>
                    <para>Specify the weight of the frame around the scale header</para>
                </listitem>
                <listitem>
                    <para><code>HeaderProperty::SetTitleVertMargin($aMargin)</code></para>
                    <para>Specifies the margin between this header and the next header (usually
                        there is no need to adjust this)</para>
                </listitem>
                <listitem>
                    <para><code>HeaderProperty::SetInterval($aInterval)</code></para>
                    <para>Specifies the interval between each scale label. For example specifying </para>
                    <para>
                        <programlisting>$graph->scale->hour->SetInterval(6);</programlisting>
                    </para>
                    <para>Will step the hour label 6 hours for each label</para>
                </listitem>
            </itemizedlist>
        </para>
        <para>So for example to set the font of the month header the following line would be
            used</para>
        <para>
            <programlisting>$ganttgraph->scale->month->SetFont(FF_ARIAL,FS_NORMAL,10);</programlisting>
        </para>
        <para>In addition to these methods each scale also has the property '<code>$grid</code>'
            which determines the appearance of grid lines for that specific scale. It is possible to
            adjust the appearance of the grid lines by the "normal" line methods, i.e. </para>
        <para>
            <itemizedlist>
                <listitem>
                    <para><code>SetColor($aColor)</code>, Set the grid color</para>
                </listitem>
                <listitem>
                    <para><code>SetWeight($aWeight)</code>, Set the grid line weight</para>
                </listitem>
                <listitem>
                    <para><code>SetStyle($aLineStyle)</code>, Set the grid line style, i.e.
                            "<code>solid</code>", "<code>dotted</code>", "<code>dashed</code>",
                            "<code>long-dashed</code>"</para>
                </listitem>
                <listitem>
                    <para><code>Show($aFlg=true)</code>, Enable the grid line</para>
                </listitem>
            </itemizedlist>
        </para>
        <para>So for example to enable the week grid line and set it to red color the following
            lines would be needed</para>
        <para>
            <programlisting>$graph->scale->week->grid->Show();
$graph->scale->week->grid->SetColor( 'red' ); </programlisting>
        </para>
        <para>The automatic grid lines have some "intelligence" so that higher resolution scales
            will not cut through part ways of scale headers with lower resolution (such as a year
            grid line cutting through the middle of a week).</para>
        <para>
            <tip>
                <para>It is possible to specify a zoom factor for the scale that adjusts how wide
                    the automatic sized header should be. See <xref xlink:href="#sec.zoom-factor"/>
                    for more details.</para>
            </tip>
        </para>
        <sect3 xml:id="sec.minute-scale-header">
            <title>Minute scale</title>
            <para>Minute scale is enabled by adding the <code>GANTT_HMIN</code> in the
                    <code>GanttGraph::ShowHeaders()</code> call, for example as the following line
                shows</para>
            <para>
                <programlisting>$graph -> ShowHeaders ( GANTT_HDAY  |  GANTT_HHOUR  |  GANTT_HMIN ); </programlisting>
            </para>
            <para>The <code>SetStyle($aStyle)</code> method supports the following label
                styles</para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para><code>MINUTESTYLE_MM</code></para>
                        <para>This will display minutes as a two digit number with a leading zero if
                            necessary</para>
                    </listitem>
                    <listitem>
                        <para><code>MINUTESTYLE_CUSTOM</code></para>
                        <para>This will let you specify you own custom minute style by making a call
                            to <code>HeaderProperty:: SetFormatString()</code></para>
                        <para>The format string is specified as a format string for the
                                <code>date()</code> function (See <uri
                                xlink:href="http://php.net/manual/en/function.date.php">PHP
                                Manual</uri>)</para>
                    </listitem>
                </itemizedlist>
            </para>
        </sect3>
        <sect3 xml:id="sec.hour-scale-header">
            <title>Hour scale</title>
            <para>Minute scale is enabled by adding the <code>GANTT_HHOUR</code> in the
                    <code>GanttGraph::ShowHeaders()</code> call, for example as the following line
                shows</para>
            <para>
                <programlisting>$graph -> ShowHeaders ( GANTT_HDAY  |  GANTT_HHOUR  |  GANTT_HMIN ); </programlisting>
            </para>
            <para>The <code>SetStyle($aStyle)</code> method supports the following label
                styles</para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para><code>HOURSTYLE_HM24</code></para>
                        <para>Will display the only the hour in military time 0-24 , for example
                            13:00</para>
                    </listitem>
                    <listitem>
                        <para><code>HOURSTYLE_H24</code></para>
                        <para>Will display the hour with both hour and minute in military time 0-24,
                            for example 13</para>
                    </listitem>
                    <listitem>
                        <para><code>HOURSTYLE_HMAMPM</code></para>
                        <para>Will display the hour and minutes with a suitable am/pm postfix, for
                            example 1:30pm</para>
                    </listitem>
                    <listitem>
                        <para><code>HOURSTYLE_HAMPM</code></para>
                        <para>Will display only the hour with a suitable am/pm postfix, for example
                            1pm</para>
                    </listitem>
                    <listitem>
                        <para><code>HOURSTYLE_CUSTOM</code></para>
                        <para>Custom defined format as specified with a call to
                                <code>HeaderProperty::SetFormatString()</code></para>
                        <para>The format string is specified as a format string for the
                                <code>date()</code> function (See <uri
                                xlink:href="http://php.net/manual/en/function.date.php">PHP
                                Manual</uri>)</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>For hours it is possible to specify the interval in either of two ways. With an
                integer, e.g. 6, or as time interval, e.g. "1:30" which makes the interval one and a
                half hour. The only restriction is that the interval must be a divisor of 24 since
                one day is the smallest possible interval to show. This means that it is allowed to
                use, for example 2,4,6,"1:30" or "0:45" as intervals but not 7, "2:45".</para>
            <para>The code snippet below shows hot to set up a hour scale to with 45 minutes
                interval and custom colors</para>
            <para>
                <programlisting>&lt;?php
$graph->scale->hour->SetBackgroundColor( 'lightyellow:1.5' );
$graph->scale->hour->SetFont( FF_FONT1 );
$graph->scale->hour->SetStyle( HOURSTYLE_HMAMPM );
$graph->scale->hour->SetIntervall( '0:45' ); 
?></programlisting>
            </para>
            <para>The example in <xref xlink:href="#fig.gantthourex1"/> below shows a gantt chart
                with the day and hour scale enabled. In this example we have also added a gradient
                background to show some formatting options.</para>
            <para>
                <programlisting>#=gantthourex1|Gantt chart with day and hour scale enabled#</programlisting>
            </para>
        </sect3>
        <sect3 xml:id="sec.day-scale-header">
            <title>Day scale</title>
            <para>The <code>SetStyle($aStyle)</code> method supports the following label
                styles</para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para><code>DAYSTYLE_ONELETTER</code>, </para>
                        <para>On letter week day. Example "M"</para>
                    </listitem>
                    <listitem>
                        <para><code>DAYSTYLE_LONG</code>, </para>
                        <para>Full week day. Example "Monday"</para>
                    </listitem>
                    <listitem>
                        <para><code>DAYSTYLE_LONGDAYDATE1</code>, </para>
                        <para>Day with date. Example "Monday 23 Jun"</para>
                    </listitem>
                    <listitem>
                        <para><code>DAYSTYLE_LONGDAYDATE2</code>, </para>
                        <para>Day with date+year. Example "Monday 23 Jun 2003"</para>
                    </listitem>
                    <listitem>
                        <para><code>DAYSTYLE_SHORT</code>, </para>
                        <para>Short date. Example "Mon"</para>
                    </listitem>
                    <listitem>
                        <para><code>DAYSTYLE_SHORTDAYDATE1</code>, </para>
                        <para>Short date+date. Example "Mon 23/6"</para>
                    </listitem>
                    <listitem>
                        <para><code>DAYSTYLE_SHORTDAYDATE2</code>, </para>
                        <para>Short date+date. Example "Mon 23 Jun"</para>
                    </listitem>
                    <listitem>
                        <para><code>DAYSTYLE_SHORTDAYDATE3</code>,</para>
                        <para>Short date+date. Example "Mon 23"</para>
                    </listitem>
                    <listitem>
                        <para><code>DAYSTYLE_SHORTDATE1</code>, </para>
                        <para>Short date. Example "23/6"</para>
                    </listitem>
                    <listitem>
                        <para><code>DAYSTYLE_SHORTDATE2</code>, </para>
                        <para>Short date. Example "23 Jun"</para>
                    </listitem>
                    <listitem>
                        <para><code>DAYSTYLE_SHORTDATE3</code>, </para>
                        <para>Short date. Example "Mon 23"</para>
                    </listitem>
                    <listitem>
                        <para><code>DAYSTYLE_SHORTDATE4</code>, </para>
                        <para>Short date. Example "23"</para>
                    </listitem>
                    <listitem>
                        <para><code>DAYSTYLE_CUSTOM</code>, </para>
                        <para>Custom specified formatting string. Example "%A"</para>
                        <para>The format string is specified as a format string for the
                                <code>strftime()</code> function (See <uri
                                xlink:href="http://php.net/manual/en/function.strftime.php">PHP
                                Manual</uri>)</para>
                        <para>
                            <caution>
                                <para>Note that the day format string is a format string for
                                        <code>strftime()</code> while the format string for hour and
                                    minutes are given as a format string for the <code>date()</code>
                                    function. This inconsistency purely exists for historic reasons
                                    and is kept not to break existing scripts.</para>
                            </caution>
                        </para>
                    </listitem>
                </itemizedlist>
            </para>
            <para><emphasis role="bold">Example:</emphasis></para>
            <para>
                <programlisting>$graph->scale->day->SetStyle ( DAYSTYLE_LONG ); </programlisting>
            </para>
            <para>The graphical formatting possibilities for days allow the possibility to specify a
                different color for the weekend background and also for the Sunday.</para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para><code>HeaderProperty::SetWeekendColor($aColor)</code></para>
                        <para>Set the background color for weekends. (Defaults to light gray)</para>
                    </listitem>
                    <listitem>
                        <para><code>HeaderProperty::SetSundayFontColor($aColor)</code></para>
                        <para>The Sunday font color. (Defaults to red)</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>In addition to this there is also a possibility to choose whether or not the
                weekend background should be extended vertically down over the plot area which is
                the default. Since that is a property more of the whole plot this behavior is
                modified with a call to the method</para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para><code>GanttScale::UseWeekendBackground($aFlg=true) </code></para>
                        <para><emphasis role="bold">Example:</emphasis></para>
                        <para>
                            <programlisting>// Don't use background for weekend in the plot area
$graph->scale->UseWeekendBackground(false);</programlisting>
                        </para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <note>
                    <para>The actual text displayed is dependent on the Locale used. See <xref
                            xlink:href="#sec.gantt-localizing"/></para>
                </note>
            </para>
        </sect3>
        <sect3 xml:id="sec.week-scale-header">
            <title>Week scale</title>
            <para>Week scales, if enabled, by default shows the week number in range 1 to 53 (as
                defined by ISO-8601)</para>
            <para>
                <note>
                    <para>It might be worth pointing out here that the week number calculation is
                        carried out within the library and does not rely on the underlying OS date
                        libraries. This makes the behavior consistent over several OS:s (at least MS
                        Windows does not comply to ISO-8601 or supply any way of doing this through
                        the normal libraries, e.g. <code>strftime()</code>)</para>
                </note>
            </para>
            <para>The <code>SetStyle($aStyle)</code> method supports the following label
                styles</para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para><code>WEEKSTYLE_WNBR</code></para>
                        <para>Show week number. To further modify the formatting of the actual week
                            number it is possible to optionally supply a format string with a call
                            to</para>
                        <para>
                            <itemizedlist>
                                <listitem>
                                    <para><code>HeaderProperty::SetLabelFormatString($aFormat)</code></para>
                                    <para>The format for this string is the same format used for the
                                            <code>sprintf()</code> function and formats the week
                                        number given as an integer.</para>
                                    <para>
                                        <caution>
                                            <para>Note that the day format string is a format string
                                                for <code>sprintf()</code> while the format string
                                                for hour and minutes are given as a format string
                                                for the <code>date()</code> function. This
                                                inconsistency purely exists for historic reasons and
                                                is kept not to break existing scripts.</para>
                                        </caution>
                                    </para>
                                </listitem>
                            </itemizedlist>
                        </para>
                    </listitem>
                    <listitem>
                        <para><code>WEEKSTYLE_FIRSTDAY</code></para>
                        <para>Show date of first day in week.</para>
                    </listitem>
                    <listitem>
                        <para><code>WEEKSTYLE_FIRSTDAY2</code></para>
                        <para>Show date of first day in week and short month</para>
                    </listitem>
                    <listitem>
                        <para><code>WEEKSTYLE_FIRSTDAYWNBR</code></para>
                        <para>Show week number of first day in week.</para>
                    </listitem>
                    <listitem>
                        <para><code>WEEKSTYLE_FIRSTDAY2WNBR</code></para>
                        <para>Show week number of first day in week and month</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para><emphasis role="bold">Example:</emphasis></para>
            <para>
                <programlisting>$graph->scale->week->SetStyle(WEEKSTYLE_FIRSTDAY);</programlisting>
            </para>
            <para>
                <note>
                    <para>The actual text displayed for month is dependent on the Locale used. See
                            <xref xlink:href="#sec.gantt-localizing"/></para>
                </note>
            </para>
        </sect3>
        <sect3 xml:id="sec.month-scale-header">
            <title>Month scale</title>
            <para>The <code>SetStyle($aStyle)</code> method supports the following label
                styles</para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para><code>MONTHSTYLE_SHORTNAME</code></para>
                        <para>Display the month name in its locale specific short form, i.e Jan, Feb
                            etc</para>
                    </listitem>
                    <listitem>
                        <para><code>MONTHSTYLE_SHORTNAMEYEAR2</code></para>
                        <para>Display the month name in its locale specific short form together with
                            a 2 digit year , i.e Jan '01, Feb '01 etc</para>
                    </listitem>
                    <listitem>
                        <para><code>MONTHSTYLE_SHORTNAMEYEAR4</code></para>
                        <para>Display the month name in its locale specific short form together with
                            a 4 digit year , i.e Jan 2001, Feb 2001 etc</para>
                    </listitem>
                    <listitem>
                        <para><code>MONTHSTYLE_LONGNAME</code></para>
                        <para>Display the month name in its locale specific long name, i.e. January,
                            February</para>
                    </listitem>
                    <listitem>
                        <para><code>MONTHSTYLE_LONGNAMEYEAR2</code></para>
                        <para>Display the month name in its locale specific long name together with
                            a 2 digit year , i.e January '01, February '01 etc</para>
                    </listitem>
                    <listitem>
                        <para><code>MONTHSTYLE_LONGNAMEYEAR4</code></para>
                        <para>Display the month name in its locale specific long name together with
                            a 4 digit year , i.e January 2001, February 2001 etc</para>
                    </listitem>
                    <listitem>
                        <para><code>MONTHSTYLE_FIRSTLETTER</code></para>
                        <para>The first letter of the month name</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para><emphasis role="bold">Example:</emphasis></para>
            <para>
                <programlisting>$graph->scale->month->SetStyle(MONTHSTYLE_LONGNAME);</programlisting>
            </para>
        </sect3>
        <sect3 xml:id="sec.year-scale-header">
            <title>Year scale</title>
            <para>Year scale has no extra formatting possibilities it is always displayed as a four
                digit number , e.g. "<code>2009</code>"</para>
        </sect3>
    </sect2>
    <sect2>
        <title>Adding gantt objects to the chart</title>
        <para>Gantt objects are primarily instances of one of two classes</para>
        <para>
            <orderedlist>
                <listitem>
                    <para><code>class GanttBar</code></para>
                    <para>This is the main activity added to a Gantt chart to show the extension in
                        time of one activity, a gantt bar</para>
                </listitem>
                <listitem>
                    <para><code>class Milestone</code></para>
                    <para>This activity is a special case of an activity with zero extension,
                        usually indicating a milestone or a deadline</para>
                </listitem>
                <listitem>
                    <para><code>class VLine</code></para>
                    <para>This is similar so a millstone as it has no extension in time. Instead
                        this object is visually represented as a vertical line that crosses the
                        entire graph plot area. This is often used to mark, for example, phases in a
                        project.</para>
                </listitem>
            </orderedlist>
        </para>
        <para>To add a Gantt objects there are two compulsory parameters that must be set. These
            parameters specify on what row and at what date the activity should start at. </para>
        <para>Bars and Milestones need both a vertical position and a horizontal position. The
            horizontal start position is specified as a date, e.g. "2001-06-23", and the vertical
            positions are specified as a number [0,1,2,3,...]. This vertical number indicates the
            position from the top where the object should be placed. To understand this one could
            imagine a number of "invisible" horizontal bands with a certain height. If the vertical
            position is specifies as 0 the bar will be placed in the first band, specify 3 and the
            bar will be placed in the fourth band and so on.</para>
        <para>All these "invisible bands" have the same height (equ-spaced). The height of each band
            is automatically determined and depends on both the method of layout ( as specified by
                (<code>GanttChart::SetLayout()</code>) and the individual heights of the individual
            bars and titles. The rules are quite simple:</para>
        <para>
            <orderedlist>
                <listitem>
                    <para>If layout=<code>GANTT_FROMTOP</code> (the default and most common) the
                        height will equal the height (+ a margin) of the highest gantt bar. The
                        height calculation of each bar takes into account both the actual bar, the
                        title, and any left- right-marks (more about that later) that may be
                        present. </para>
                    <para>The name "fromtop" refers to that when the height is explicitly specified
                        the bars will usually be added from band 0 and onwards and hence being added
                        from the top. (This might leave empty space at the bottom of the plot area
                        in the graph if the height of the graph has been explicitly
                        specified).</para>
                </listitem>
                <listitem>
                    <para>If layout=<code>GANTT_EVEN</code> the bars are evenly (hence the name)
                        spread out over the available height in the gantt chart and no consideration
                        is taken of the individual bars heights. Note that if you use automatic
                        sizing even layout cannot be used. (It just doesn't make sense). Even layout
                        is for those cases when a large area is specified and the bars should be
                        evenly distributed using the full height.</para>
                </listitem>
            </orderedlist>
        </para>
        <para>So in summary each object must have two position parameters.</para>
        <para>
            <orderedlist>
                <listitem>
                    <para><emphasis role="bold">Which row the gantt object should be drawn
                            on.</emphasis></para>
                    <para>This should be a positive integer in the range (0, ...), It is perfectly
                        legal to specify a large vertical position with no other object above as
                        shown in <xref xlink:href="#fig.ganttex03"/></para>
                </listitem>
                <listitem>
                    <para><emphasis role="bold">Which start and end date (or dates) the object
                            should have. </emphasis></para>
                    <para>Start of bars are given as a date string. The format depends on the
                        current locale. Examples of valid date strings are</para>
                    <para>
                        <itemizedlist>
                            <listitem>
                                <para>"2001-10-22"</para>
                            </listitem>
                            <listitem>
                                <para>"2001-10-22"</para>
                            </listitem>
                            <listitem>
                                <para>"22 Oct 2001"</para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>Even if several format are supported it is recommended to use all numeric
                        dates, i.e in the form "2001-10-22".</para>
                    <para>
                        <caution>
                            <para>Watch our for the locale used since, for example, "2008-05-10" can
                                have two meanings.</para>
                        </caution>
                    </para>
                    <para>Specifying the end position may be done in two different ways, either by
                        the end date in the same way as for the start date. The other way is to
                        specify the length of the activity in number of days (and fractions
                        thereof). Examples of valid end dates are:</para>
                    <para>
                        <itemizedlist>
                            <listitem>
                                <para>"2001-11-15"</para>
                            </listitem>
                            <listitem>
                                <para>"15 Nov 2001"</para>
                            </listitem>
                            <listitem>
                                <para>22, (specifies duration of 22 days)</para>
                            </listitem>
                            <listitem>
                                <para>22.7, (specifies duration of 22.7 days)</para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>Please note that duration must be specified as numerical values and not as
                        a string.</para>
                </listitem>
            </orderedlist>
        </para>
        <para>Usually at least one or more of the following parameter is also specified</para>
        <para>
            <orderedlist>
                <listitem>
                    <para>The title of the gantt object</para>
                </listitem>
                <listitem>
                    <para>The caption of the object. This is a text string that is drawn beside the
                        object on the gantt chart</para>
                </listitem>
                <listitem>
                    <para>Color and any optional patterns to separate different activities</para>
                </listitem>
                <listitem>
                    <para>When applicable the state of a progress indicator (see <xref
                            xlink:href="#sec.gantt-progress"/>)</para>
                </listitem>
            </orderedlist>
        </para>
        <sect3 xml:id="sect.adding-gantt-activity-bars">
            <title>Adding Gantt activity bars</title>
            <para>Instances of <code>class GanttBar</code> is created with the constructor</para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para><code>GanttBar::__construct($aPos,$aLabel,$aStart,$aEnd,$aCaption="",$aHeightFactor=0.6)</code></para>
                        <para><code>$aVPos</code> The vertical position for the bar, [0..n] </para>
                        <para><code>$aTitle</code> Title for the activity </para>
                        <para><code>$aStart</code> Start date for the activity given as string, e.g
                            "2001-09-22" </para>
                        <para><code>$aEnd </code>End date for activity given as either a date (a
                            string) or as the duration (in days) of the activity, e.g both
                            "2001-10-15" and 20.5 are valid inputs </para>
                        <para><code>$aCaption</code> Text string (caption) to appear at the end
                            (right side) of the bar </para>
                        <para><code>$aHeight</code> Height of bar given as either a value in range
                            [0,1] in which case this is interpretated as what fraction of the
                            vertical position should the bar occupy. The height can also be given in
                            absolute pixels [1..200]</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>In order to illustrate this we will create a the most basic (and simple ) Gantt
                chart possible. This will consist of just a chart with one activity bar.</para>
            <para>
                <programlisting>#ganttex00|The simplest possible Gantt graph#</programlisting>
            </para>
            <para>The example above will make use of just the default settings for all formatting
                parameters but still manage to create a perfectly readable Gantt chart with only 4
                lines of real code. We can note a couple of things</para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>By default two scale headers are used, week and day resolution</para>
                    </listitem>
                    <listitem>
                        <para>Weekends will have a gray background</para>
                    </listitem>
                    <listitem>
                        <para>Sunday scale header uses red for the "Sunday"</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>Lets now take the above simple graph and make a few small alterations.</para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>We will add graph titles</para>
                    </listitem>
                    <listitem>
                        <para>We will change the pattern and color of the activity bar</para>
                    </listitem>
                    <listitem>
                        <para>We will adjust the scale headers so er have three headers and use the
                            date of the start day for each week (in the week scale)</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <programlisting>#=ganttex01|Making some minor alterations to the Gantt graph#</programlisting>
            </para>
            <para>To show the effect of row positioning <xref xlink:href="#fig.ganttex03"/> shows
                the effect of adding a bar to row 7. This will as can be seen create graph that is
                mostly empty sine row 0-6 have no specified gantt objects.</para>
            <para>
                <programlisting>#=ganttex03|Specifying a large vertical position#</programlisting>
            </para>
            <para>The height of the bars can also be adjusted. The horizontal spacing between each
                bar is based on the highest single bar including the size of the title. By default
                the height of the bar is 60% of the overall vertical size allocated to each row (all
                the rows have the same height).</para>
            <para>The height of the bar can be specified as either as an absolute number of pixels
                or as a fraction of the row height. Since by default the bar height is 60% this
                means that if any single line has, for example, a large title all the rows will be
                adjusted to the same size and hence the bars will also be adjusted to fill 60% of
                the new width.</para>
        </sect3>
        <sect3>
            <title>Adding milestones</title>
            <para>Instances of <code>class Milestone</code> is created with the constructor</para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para><code>MileStone::__construct($aVPos,$aLabel,$aDate,$aCaption='')</code></para>
                        <para><code>$aVPos</code>, The vertical position for the bar, [0..n] </para>
                        <para><code>$aTitle</code>, Title for the activity </para>
                        <para><code>$aDate</code>, Date for the milestone </para>
                        <para><code>$aCaption</code>, Text to the right of the milestone</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>Valid milestones are for example</para>
            <para>
                <programlisting>$ms4 = new MileStone(3, 'Code complete', '2001-12-01'); 
$ms5 = new MileStone(3, 'Ready for test', '2002-01-06'); </programlisting>
            </para>
            <para>By default milestones are rendered as a filled "Diamond" shape. This may be
                optionally modified. The actual shape is specified by the 'mark' property of
                milestone which is an instance of <code>class PlotMark</code>. See <xref
                    xlink:href="#sec.adding-gantt-markers"/>.</para>
            <para>To change the shape of a milestone to, say a triangle, you use the
                    <code>SetType()</code> method as in</para>
            <para>
                <programlisting>$ms4->mark->SetType( MARK_DTRIANGLE );</programlisting>
            </para>
            <para>An example of adding a milestone to a gantt graph is shown in <xref
                    xlink:href="#fig.ganttex04"/></para>
            <para>
                <programlisting>#=ganttex04|Adding a milestone marker to a gantt graph#</programlisting>
            </para>
            <para>We note that;</para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>By default the title of a milestone is set in a red color. To change
                            the title the "<code>$title</code>" property of the milestone must be
                            accessed. For example</para>
                        <para>
                            <programlisting>$milestone->title->SetColor('black');</programlisting>
                        </para>
                    </listitem>
                    <listitem>
                        <para>A milestone has a caption in exactly the same way as an ordinary gantt
                            bar</para>
                    </listitem>
                    <listitem>
                        <para>Milestones are added to the graph with the usual
                                <code>GanttGraph::Add()</code></para>
                    </listitem>
                </itemizedlist>
            </para>
        </sect3>
        <sect3>
            <title>Adding vertical lines (GanttVLine)</title>
            <para>Instances of <code>class GanttVLine</code> is created with the constructor</para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para><code>GanttVLine::__construct($aDate,$aTitle='',$aColor='darkred',$aWeight=2,$aStyle='solid')</code></para>
                        <para><code>$aDate</code> Date for the milestone </para>
                        <para><code>$aTitle</code> Title for the line. The title is displayed at the
                            bottom of the line </para>
                        <para><code>$aColor</code> Color of the line </para>
                        <para><code>$aWeight</code> Line width </para>
                        <para><code>$aStyle</code> Line style, specified as a string
                                <code>"dashed"</code>, <code>"dotted"</code> and so on</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>By default a GanttVLine will cover the entire Gantt area from the top to the
                bottom. It is also possible to restrict the area that the line is spanning by
                specifying the start and stop row for the line with a call to the method</para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para><code>GanttVLine::SetRowSpan($aStart, $aEnd)</code></para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>If the end row is left out the line will go all the way to the bottom.</para>
            <para>
                <note>
                    <para>Since there is a small margin from the top header row to the first Gantt
                        row this means that specifying a start row of 0 (the very first gantt row)
                        will leave a small margin between the line and the header row. If this is
                        not desirable the start row can be specified as -1 in which case the line
                        will go all the way up to the header row.</para>
                </note>
            </para>
            <para>Valid creations of lines are for example</para>
            <para>
                <programlisting>$vline1 = new GanttVLine('2001-12-24', 'Phase 1'); 
$vline2 = new GanttVLine('2001-12-28', 'Phase 1', 'darkred', 5, 'dotted'); 
$vline2->SetRowSpan(3); // Start at row index=3 (fourth row) and go all the way to the bottom</programlisting>
            </para>
            <para>In <xref xlink:href="#fig.ganttex06"/> we have created a line with</para>
            <para>
                <programlisting>$vline = new GanttVLine('2001-12-24', 'Phase 1' );
$graph->Add( $vline ); </programlisting>
            </para>
            <para>
                <programlisting>#=ganttex06|Adding a vertical line in the Gantt graph#</programlisting>
            </para>
            <para>We note the following</para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>The title of the vertical line is rendered at the bottom of the graph
                            in the margin.</para>
                    </listitem>
                    <listitem>
                        <para>By default the line is drawn at the beginning of the day of the
                            specified date and in a "<code>dashed</code>" style. This can be
                            modified so that the line is drawn/aligned anywhere in the specified
                            day. This is done by using the method
                                <code>GanttVLine::SetDayOffset()</code> with an argument specifying
                            the fraction of the width of a single day where the line should be
                            positioned.</para>
                        <para>For example, if we want to display the line in the middle of the day
                            we need to add the line</para>
                        <para>
                            <programlisting>$vline->SetDayOffset ( 0.5 ); </programlisting>
                        </para>
                        <para>Adding this line to the example in <xref xlink:href="#fig.ganttex06"/>
                            gives the result shown in <xref xlink:href="#fig.ganttex07"/></para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <programlisting>#=ganttex07|Adjusting the position of the vertical line within the day#</programlisting>
            </para>
        </sect3>
        <sect3>
            <title>Illustrating break in activities</title>
            <para>Since the position of each activity is specified by row and date there is nothing
                that prevents adding multiple activity bars to the same row. This observation makes
                it possible to illustrate breaks in activities during a certain period. <xref
                    xlink:href="#fig.gantt_samerowex1"/> shows an example of this</para>
            <para>
                <programlisting>#=gantt_samerowex1|Adding several activity bars on the same row#</programlisting>
            </para>
            <para>A common variant is to have some connection between the parts in the broken
                activity. This can be accomplished by using a special variant of the gantt activity
                available just for this purpose.</para>
            <para>Gantt bars have the following method available</para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>
                            <code>GanttBar::SetBreakStyle($aFlg=true, $aLineStyle='dotted',
                                $aLineWeight=1)</code></para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>This will draw the gantt bar almost hollow. It will just consist of the top and
                bottom line of the bar. The idea to illustrate a break is to have a bar of this
                style during the break. <xref xlink:href="#fig.gantt_samerowex2"/> shows an example
                of this.</para>
            <para>
                <programlisting>#=gantt_samerowex2|Adding a hollow "break" bar#</programlisting>
            </para>
        </sect3>
    </sect2>
    <sect2>
        <title>Additional formatting for activity bars (Gantt bars)</title>
        <sect3 xml:id="sec.adding-gantt-markers">
            <title>Adding markers to the Gantt bars</title>
            <para>Each gantt bar can have a marker either at the left or to the right of the bar.
                The markers are accessed through the properties</para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para><code>GanttBar::leftMark</code></para>
                    </listitem>
                    <listitem>
                        <para><code>GanttBar::rightMark</code></para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>Since the markers are instances of <code>class PlotMark</code> all the features of
                this class is available as described in <xref xlink:href="#sec.adding-marks"/> and
                in <xref xlink:href="#app.plotmark-list"/>.</para>
            <para>To give a practical example of the usage of marks we will add a solid filled
                circle with a title text to the right end of a activity bar by using the following
                lines</para>
            <para>
                <programlisting>&lt;?php
// Add a right marker
$activity->rightMark->Show();    
$activity->rightMark->SetType(MARK_FILLEDCIRCLE);
$activity->rightMark->SetWidth(13);
$activity->rightMark->SetColor('red');
$activity->rightMark->SetFillColor('red');
$activity->rightMark->title->Set('M5');
$activity->rightMark->title->SetFont(FF_ARIAL,FS_BOLD,12);
$activity->rightMark->title->SetColor('white');
?></programlisting>
            </para>
            <para>This would give the effect shown in <xref xlink:href="#fig.adding-right-marker"
                /></para>
            <para>
                <figure xml:id="fig.adding-right-marker">
                    <title>Example of adding a right marker to the activity bar</title>
                    <mediaobject>
                        <imageobject><imagedata fileref="images/gantt-bar_rightmarker.png"
                            /></imageobject>
                    </mediaobject>
                </figure>
            </para>
            <para><caution>
                    <para>Since the bar height is 60% of the row height this means that a large
                        marker will adjust the row size (since it must be large enough to make room
                        for the mark) and it might be necessary to compensate for this by calling
                        the <code>GanttBar::SetHeight($aHeight)</code>. Remember that the reserved
                        height is the maximum height needed by any line. <xref
                            xlink:href="#fig.ganttex08"/> shows what happens with the bar height if
                        it is not adjusted.</para>
                </caution>.</para>
            <para>
                <programlisting>#=ganttex08|A large marker will force the row to become larger since it by default always fills 60% of the allocated height for each row#</programlisting>
            </para>
            <para>
                <note>
                    <para>There are two special markers <code>MARK_LEFTTRIANGLE</code> and
                            <code>MARK_RIGHTTRIANGLE</code> not normally available that are used to
                        format the visual indication of a group bar header. See <xref
                            xlink:href="#sec.gouping-activities"/></para>
                </note>
            </para>
        </sect3>
        <sect3>
            <title>Specifying a fill pattern for the activity bar</title>
            <para>The pattern and color for an activity bar is specified with the method</para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para><code>GanttBar::function
                                SetPattern($aPattern,$aColor="blue",$aDensity=95)</code></para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>The available patterns together with the symbolic names are given in <xref
                    xlink:href="#tab.grad-bar-patterns"/>.</para>
            <para>
                <table frame="topbot" xml:id="tab.grad-bar-patterns">
                    <title>Gantt bar patterns</title>
                    <tgroup cols="4">
                        <colspec colname="c1" colnum="1"/>
                        <colspec colname="c2" colnum="2"/>
                        <colspec colname="c3" colnum="3"/>
                        <colspec colname="c4" colnum="4"/>
                        <tbody>
                            <row>
                                <entry>
                                    <para><inlinemediaobject><imageobject><imagedata
                                                  fileref="images/gantt-bar_ldiag.png"
                                                /></imageobject></inlinemediaobject></para>
                                    <para><code>GANTT_LDIAG</code></para>
                                </entry>
                                <entry>
                                    <para><inlinemediaobject><imageobject><imagedata
                                                  fileref="images/gantt-bar_rdiag.png"
                                                /></imageobject></inlinemediaobject></para>
                                    <para><code>GANTT_RDIAG</code></para>
                                </entry>
                                <entry>
                                    <para><inlinemediaobject><imageobject><imagedata
                                                  fileref="images/gantt-bar_hline.png"
                                                /></imageobject></inlinemediaobject></para>
                                    <para><code>GANTT_HLINE</code></para>
                                </entry>
                                <entry>
                                    <para><inlinemediaobject><imageobject><imagedata
                                                  fileref="images/gantt-bar_vline.png"
                                                /></imageobject></inlinemediaobject></para>
                                    <para><code>GANTT_VLINE</code></para>
                                </entry>
                            </row>
                            <row>
                                <entry>
                                    <para><inlinemediaobject><imageobject><imagedata
                                                  fileref="images/gantt-bar_solid.png"
                                                /></imageobject></inlinemediaobject></para>
                                    <para><code>GANTT_SOLID</code></para>
                                </entry>
                                <entry>
                                    <para><inlinemediaobject><imageobject><imagedata
                                                  fileref="images/gantt-bar_hvcross.png"
                                                /></imageobject></inlinemediaobject></para>
                                    <para><code>GANTT_HVCROSS</code></para>
                                </entry>
                                <entry>
                                    <para><inlinemediaobject><imageobject><imagedata
                                                  fileref="images/gantt-bar_diagcross.png"
                                                /></imageobject></inlinemediaobject></para>
                                    <para><code>GANTT_DIAGCROSS</code></para>
                                </entry>
                                <entry>
                                    <para><inlinemediaobject><imageobject><imagedata
                                                  fileref="images/gantt-bar_3dplane.png"
                                                /></imageobject></inlinemediaobject></para>
                                    <para><code>GANTT_3DPLANE</code></para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>
            <para>
                <note>
                    <para>In <xref xlink:href="#tab.grad-bar-patterns"/>.we have used different
                        value for the <code>$aDensity </code>parameter to better show the pattern.
                        Depending on the pattern we have used a density in the range 85 to
                        95.</para>
                </note>
            </para>
        </sect3>
        <sect3>
            <title>Adding captions to activities</title>
            <para>The caption text is a text string that is shown to the right of the activity bar.
                It can have different usages, for example a common use is to show the initials of
                the person (or persons) responsible for completing a specific activity.</para>
            <para>The caption is accessed through the "<code>$caption</code>" property of the bar.
                This property is an instance of the Text class and hence inherits all the common
                text formatting options.</para>
            <para>The following line sets the caption to the string <code>"[AG]"</code></para>
            <para>
                <programlisting>&lt;?php
$activity->caption->Set('[AG]')
$activity->caption->SetFont(FF_FONT2,FS_BOLD);
?></programlisting>
            </para>
            <para><xref xlink:href="#fig.gantt-bar-caption"/> shows a small cut out from a gantt
                chart that shows the typical appearance of a gantt bar caption.</para>
            <para>
                <figure xml:id="fig.gantt-bar-caption">
                    <title>Adding a caption to a Gantt bar</title>
                    <mediaobject>
                        <imageobject><imagedata fileref="images/gantt-bar_caption.png"
                            /></imageobject>
                    </mediaobject>
                </figure>
            </para>
            <para>In addition to specifying the caption as shown above the caption text can also be
                specified directly when creating a gantt bar as the fifth parameter as the following
                example shows</para>
            <para>
                <programlisting>$activity = new GanttBar(0, 'Activity 1', '2001-11-21', '2001-12-20', '[BS,ER]') ;</programlisting>
            </para>
            <para>In order to specify the distance between the Gantt object and the caption text the
                method</para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para><code>GanttPlotObject::SetCaptionMargin($aMargin)</code></para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>is used. For example, to increase the margin to 20 pixels for a gantt bar the
                following line must be added</para>
            <para>
                <programlisting>$activity->SetCaptionTitle(20);</programlisting>
            </para>
        </sect3>
        <sect3 xml:id="sec.gantt-progress">
            <title>Adding progress indicators</title>
            <para>To indicate the progress of a specific activity it is also possible to add a
                progress indicator to each bar. This progress indicator consists of a smaller bar
                within the bar. By default this progress bar is black and 70% of the height of the
                bar. These parameter can all be changed.</para>
            <para>The properties for the progress indicator are accessed through the 'progress'
                property and it's methods.</para>
            <para>To set the progress for a specific activity you only specify the percent as a
                fraction (0-1). As in</para>
            <para>
                <programlisting>$activity->progress->Set( 0.4 ) </programlisting>
            </para>
            <para>In each activity uses the default format for the progress indicator, a solid bar.
                To make it clearer we have also modified the caption to reflect the displayed
                progress. (At the same time we also modified the scale headers just to illustrate
                some more formatting options).</para>
            <para>
                <programlisting>#=ganttex14|Adding progress bars ot the gantt chart#</programlisting>
            </para>
            <para>To specify a different format for the progress the following method is used</para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para><code>Progress::SetPattern($aPattern,$aColor="blue",$aDensity=98)</code></para>
                        <para>The parameters follow the same structure as patterns for the activity
                            bars</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>We can now modify the progress bar above, for example by adding the line</para>
            <para>
                <programlisting>$activity->progress->SetPattern( BAND_RDIAG , "blue" ); </programlisting>
            </para>
            <para>and we then get the result shown in <xref xlink:href="#fig.ganttex15"/></para>
            <para>
                <programlisting>#=ganttex15|Modifying the format for the progress pattern#</programlisting>
            </para>
        </sect3>
    </sect2>
    <sect2 xml:id="sec.add-constraints">
        <title>Adding visual indication of constraints between gantt objects</title>
        <para>With Gantt charts there is often the need to illustrate constrains between one or
            several activities. One of the most common constrain is that on activity can't start
            before some other activity has finished. The constrain is visualized as an arrow between
            two gantt objects.</para>
        <para>The library supports visualization of the following four types of constraints</para>
        <para>
            <informaltable>
                <tgroup cols="2">
                    <colspec colname="c1" colnum="1"/>
                    <colspec colname="c2" colnum="2"/>
                    <tbody>
                        <row>
                            <entry align="center">
                                <para>
                                    <figure>
                                        <title>Start to end constraint</title>
                                        <mediaobject>
                                            <imageobject><imagedata
                                                  fileref="images/gantt-constraint-start-to-end.png"
                                                /></imageobject>
                                        </mediaobject>
                                    </figure>
                                </para>
                                <para>Start to End</para>
                            </entry>
                            <entry align="center">
                                <para>
                                    <figure>
                                        <title>Start to start constraint</title>
                                        <mediaobject>
                                            <imageobject><imagedata
                                                  fileref="images/gantt-constraint-start-to-start.png"
                                                /></imageobject>
                                        </mediaobject>
                                    </figure>
                                </para>
                                <para>Start to Start</para>
                            </entry>
                        </row>
                        <row>
                            <entry align="center">
                                <para>
                                    <figure>
                                        <title>End to start constraint</title>
                                        <mediaobject>
                                            <imageobject><imagedata
                                                  fileref="images/gantt-constraint-end-to-start.png"
                                                /></imageobject>
                                        </mediaobject>
                                    </figure>
                                </para>
                                <para>End to Start</para>
                            </entry>
                            <entry align="center">
                                <para>
                                    <figure>
                                        <title>End to end constraint</title>
                                        <mediaobject>
                                            <imageobject><imagedata
                                                  fileref="images/gantt-constraint-end-to-end.png"
                                                /></imageobject>
                                        </mediaobject>
                                    </figure>
                                </para>
                                <para>End to End</para>
                            </entry>
                        </row>
                    </tbody>
                </tgroup>
            </informaltable>
        </para>
        <para>To visualize a constrain the method <code>SetConstrain()</code> is called on the first
            Gantt object that is the first part of the constraint. The signature for this method
            is</para>
        <para>
            <itemizedlist>
                <listitem>
                    <para><code>GanttObject::SetConstrain($aRow,$aType,$aColor='black',</code></para>
                    <para><code> $aArrowSize=ARROW_S2, $aArrowType=ARROWT_SOLID)</code></para>
                    <para><code>$aRow</code>, The target row for the constrain</para>
                    <para><code>$aType</code>, The type of constraints. Can be one of the following
                        symbolic defines</para>
                    <para>
                        <itemizedlist>
                            <listitem>
                                <para><code>CONSTRAIN_STARTSTART</code></para>
                            </listitem>
                            <listitem>
                                <para><code>CONSTRAIN_STARTEND</code></para>
                            </listitem>
                            <listitem>
                                <para><code>CONSTRAIN_ENDSTART</code></para>
                            </listitem>
                            <listitem>
                                <para><code>CONSTRAIN_ENDEND</code></para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para><code>$aColor</code>, The color of the constraint arrow</para>
                    <para><code>$aArrowSize</code>, The size of the constraint arrow. Can eb one of
                        the following symbolic defines</para>
                    <para>
                        <itemizedlist>
                            <listitem>
                                <para><code>ARROW_S1</code></para>
                            </listitem>
                            <listitem>
                                <para><code>ARROW_S2</code></para>
                            </listitem>
                            <listitem>
                                <para><code>ARROW_S3</code></para>
                            </listitem>
                            <listitem>
                                <para><code>ARROW_S4</code></para>
                            </listitem>
                            <listitem>
                                <para><code>ARROW_S5</code></para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para><code>$aArrowType</code>, specifies the visual appearance of the arrow.
                        Can be one of the following symbolic defines</para>
                    <para>
                        <itemizedlist>
                            <listitem>
                                <para><code>ARROWT_SOLID</code>, Using a solid arrow and arrow
                                    head</para>
                            </listitem>
                            <listitem>
                                <para><code>ARROWT_OPEN</code>, Using an outline arrow and outline
                                    arrow head</para>
                            </listitem>
                        </itemizedlist>
                    </para>
                </listitem>
            </itemizedlist>
        </para>
        <para>If we assume that the gantt chart have two activity bars (Gantt bars) defined as </para>
        <para>
            <programlisting>$activity1 = new GanttBar(0,'First activity','2001-01-01','2001-03-01');
$activity2 = new GanttBar(1,'Second activity','2001-02-01','2001-04-15');</programlisting>
        </para>
        <para>and that we need to visualize a end-to-start constraint from <code>$activity1</code>
            to <code>$activity2</code> we must add the following statement</para>
        <para>
            <programlisting>$activity1->SetConstrain(1,CONSTRAIN_ENDSTART);</programlisting>
        </para>
        <para>
            <note>
                <para>The actual path followed by the arrow is controlled by some heuristics to make
                    it clear what the constrain is. It has been a design decision that in order to
                    keep the API simple the user has no further detailed controlled on the actual
                    path followed. </para>
            </note>
        </para>
    </sect2>
    <sect2 xml:id="sec.gouping-activities">
        <title>Grouping activities</title>
        <para>It is common to group activities. There is no special type for activity bars that are
            used to illustrate grouping. The common way of illustrating this (as have been used
            above) is to add "half" a triangle marker at both ends of the bar. </para>
        <para>The library provides two special types of marks that are handled slightly different
            than other markers just to cater for illustrating groups of activities. If the left or
            right marker (see the section on adding left and right markers) are of type
                <code>MARK_LEFTTRIANGLE</code> or <code>MARK_RIGHTTRIANGLE</code> those triangles
            will be drawn under the bars to give the effect show in the examples above. </para>
        <para>It is also a good idea to make the grouping bars have slightly less height than normal
            activity bars since the end triangles will visually "grow" the bar. Remember that the
            size of the bar can be adjusted by adding an extra parameter in the creation of the bar
            and can be specified as either an absolute or as a relative (0-1) value, see <xref
                xlink:href="#sect.adding-gantt-activity-bars"/></para>
        <para>So to get the effect we want for a group bar we have to use the two lines</para>
        <para>
            <programlisting>&lt;?php
$groupbar->leftMark->SetType( MARK_LEFTTRIANGLE );
$groupbar->leftMark->Show();
$groupbar->rightMark->SetType( MARK_RIGHTTRIANGLE );
$groupbar->rightMark->Show();
?></programlisting>
        </para>
        <para>to add the typical group markers at the left and right end of an otherwise standard
            activity bar as can bee seen in <xref xlink:href="#fig.group-markers"/></para>
        <para>
            <figure xml:id="fig.group-markers">
                <title>Group markers</title>
                <mediaobject>
                    <imageobject><imagedata fileref="images/gantt-group-illustration.png"
                        /></imageobject>
                </mediaobject>
            </figure>
        </para>
        <para>
            <note>
                <para>Since there is not yet any formatting support to accomplish the effect of
                    indentation for the titles so this is accomplished by using a fixed width font
                    and adding spaces in front of the title. </para>
            </note>
        </para>
    </sect2>
    <sect2>
        <title>Simplifying creation of basic Gantt charts</title>
        <para>As we have shown in the previous examples constructing a Gantt chart consists of a
            number of repetitive tasks; Create the individual activity bars, add possible
            constraints, format them and finally add them to the graph. </para>
        <para>Since many basic Gantt charts that doesn't need a very high degree of customization
            and has an almost identical (but repetitive structure) the library offers a "wrapper"
            method that takes a structured specification of the activities and implements most of
            these repetitive tasks which will make the graphs scripts much simpler.</para>
        <para>The only drawback is that in order to keep the specification simple (which is the
            whole purpose) there are very limited options to format the activities.</para>
        <para>The wrapper method has the following signature</para>
        <para>
            <itemizedlist>
                <listitem>
                    <para><code>GanttGraph::function CreateSimple($aData, $aConstrains=array(),
                            $aProgress=array())</code></para>
                    <para><code>$aData</code>, Specification of activities described below</para>
                    <para><code>$aConstraints</code>, (optional) List of constraints</para>
                    <para><code>$aProgress</code>, (optional) List of progress values</para>
                </listitem>
            </itemizedlist>
        </para>
        <para>The specification of the activities used for this wrapper method has the following
            structure</para>
        <para>
            <programlisting>$spec = array(
    array( &lt;act1_row>, &lt;act1_type>, &lt;act1_title>, &lt;act1_start>, &lt;act1_end>, &lt;act1_caption>, &lt;act1_csimtarget>, &lt;act1_title_csimtarget> ),
    array( &lt;act2_row>, &lt;act2_type>, &lt;act2_title>, &lt;act2_start>, &lt;act2_end>, &lt;act2_caption>, &lt;act2_csimtarget>, &lt;act2_title_csimtarget> ),
    ...
    array( &lt;actN_row>, &lt;actN_type>, &lt;actN_title>, &lt;actN_start>, &lt;actN_end>, &lt;actN_caption>, &lt;actN_csimtarget>, &lt;actN_title_csimtarget> ));</programlisting>
        </para>
        <para>Each array within the specification creates one activity. The fields have the
            following meaning</para>
        <para><itemizedlist>
                <listitem>
                    <para><code>&lt;act_row></code>, Which row in the gantt chart this activity
                        shall be drawn on </para>
                </listitem>
                <listitem>
                    <para><code>&lt;act_type></code>, What type of activity is this. The type is one
                        of the following symbolic defines</para>
                    <para>
                        <itemizedlist>
                            <listitem>
                                <para><code>ACTYPE_NORMAL</code>, A standard activity bar</para>
                            </listitem>
                            <listitem>
                                <para><code>ACTYPE_MILESTONE</code>, A milestone activity</para>
                            </listitem>
                            <listitem>
                                <para><code>ACTYPE_GROUP</code>, Create a grouping activity bar by
                                    adding start and end group marks</para>
                            </listitem>
                        </itemizedlist>
                    </para>
                </listitem>
                <listitem>
                    <para><code>&lt;act_title></code>, The title for the activity, can be either a
                        text string or an array to specify several title when several title columns
                        have been specified</para>
                </listitem>
                <listitem>
                    <para><code>&lt;act_start></code>, <code>&lt;act_end></code>, Start and end date
                        for the activity. For ACTYPE_MILESTONE only the &lt;act_start> shall be
                        specified.</para>
                </listitem>
                <listitem>
                    <para><code>&lt;act_caption></code>, The optional caption text for the
                        activity</para>
                </listitem>
            </itemizedlist>The (optional) constraints specification has the following
            structure</para>
        <para>
            <programlisting>$constraints = array(
    array(&lt;act1_row>, &lt;act2_row>, &lt;type>),
    array(&lt;act1_row>, &lt;act2_row>, &lt;type>),
    ...
    array(&lt;act1_row>, &lt;act2_row>, &lt;type>));</programlisting>
        </para>
        <para>
            <itemizedlist>
                <listitem>
                    <para>&lt;act1_row>, &lt;act2_row>, Start and end row for this constraint</para>
                </listitem>
                <listitem>
                    <para>&lt;type>, Type of constraint, as described in <xref
                            xlink:href="#sec.add-constraints"/></para>
                </listitem>
            </itemizedlist>
        </para>
        <para>Finally the (optional) progress specification has the structure</para>
        <para>
            <programlisting>$progress = array(
    array( &lt;act1_row>, &lt;act1_progress> ),
    array( &lt;act2_row>, &lt;act2_progress> ),
    ...
    array( &lt;act2_row>, &lt;act2_progress> ));</programlisting>
        </para>
        <para>
            <itemizedlist>
                <listitem>
                    <para>&lt;act_row>, The row that has the activity with the specified
                        progress</para>
                </listitem>
                <listitem>
                    <para>&lt;act_progress>, The progress value for the activity at the specified
                        row</para>
                </listitem>
            </itemizedlist>
        </para>
        <para>This does perhaps not look like a simplification but the following example will show
            that it really is.</para>
        <para>The following example will create a gantt graph with two activities, one milestone and
            all grouped together by a group bar. The specification for these activities will
            be</para>
        <para>
            <programlisting> $data  = array(
  array( 0 , ACTYPE_GROUP ,     "Phase 1" ,         "2001-10-26" , "2001-11-23" , "" ),
  array( 1 , ACTYPE_NORMAL ,    "  Label 2" ,       "2001-10-26" , "2001-11-13" , "[KJ]" ),
  array( 2 , ACTYPE_NORMAL ,    "  Label 3" ,       "2001-11-20" , "2001-11-22" , "[EP]" ),
  array( 3 , ACTYPE_MILESTONE , "  Phase 1 Done" ,  "2001-11-23" , "M2" ) ); </programlisting>
        </para>
        <para>Note that we use spaces to get a the titles indented according to the group
            structure.</para>
        <para>We now only need to create a very basic gantt chart with some selected scale headers
            and perhaps also a title. We then call the <code>CreateSimple()</code> method with the
            data specification above as the argument and that is all we must do.</para>
        <para>
            <programlisting>&lt;?php
// Create a basic graph and set a title
$graph = new  GanttGraph ();
$graph->title->Set( "Gantt Graph using CreateSimple()" );

// Setup a scale
$graph->ShowHeaders( GANTT_HYEAR  |  GANTT_HMONTH  |  GANTT_HDAY  |  GANTT_HWEEK );
$graph->scale->week->SetStyle( WEEKSTYLE_FIRSTDAY );

// Add the specified activities
$graph->CreateSimple ( $data );

// .. and stroke the graph
$graph->Stroke (); 
?></programlisting>
        </para>
        <para>Compare this to all the <code>$act = new GanttBar(..)</code> etc. we would have had to
            add and format using the "manual" method of adding activities to gantt graph. A complete
            example of this is shown in <xref xlink:href="#fig.ganttsimpleex1"/></para>
        <para>
            <programlisting>#=ganttsimpleex1|Using the CreateSimple() wrapper method#</programlisting>
        </para>
        <para>As we mentioned above the format options are very limited when using
                <code>CreateSimple()</code> since that is the whole idea. However, there are two
            methods to at least partially affect the format and the visual appearance of the
            activities.</para>
        <para>
            <itemizedlist>
                <listitem>
                    <para><code>GanttGraph::SetSimpleFont($aFont,$aSize)</code></para>
                    <para><code>$aFont</code>, Font family for titles</para>
                    <para><code>$aSize</code>, Font size for titles</para>
                </listitem>
                <listitem>
                    <para><code>GanttGraph::SetSimpleStyle($aPattern,$aColor,$aFillColor)</code></para>
                    <para><code>$aPattern</code>, Specifies the pattern (if any) to use for filling
                        the activity bars </para>
                    <para><code>$aColor</code>, The pattern color</para>
                    <para><code>$aFillColor</code>, The fill color of the activity bar</para>
                </listitem>
            </itemizedlist>
        </para>
    </sect2>
    <sect2>
        <title>Using multiple title columns</title>
        <para>It is often of interest not only to show one title for a gantt bar but often one wants
            to show, title, start date, end date, duration or effort and so on. Up until now we
            have, to keep things simple only shown a single title for each activity. We will now
            show how to use an arbitrary number of columns/titles for each gantt activity (gantt bar
            or gantt milestone).</para>
        <para>
            <programlisting>#=ganttmonthyearex3|Using multiple columns as titles for activties#</programlisting>
        </para>
        <para>To use multiple columns there are two steps needed. </para>
        <para>
            <orderedlist>
                <listitem>
                    <para>The number of columns to be used as titles together with the headings and
                        the headings properties like text, font and color are specified</para>
                </listitem>
                <listitem>
                    <para>The second step is to add the proper titles to each activity to be
                        displayed in the specified columns</para>
                </listitem>
            </orderedlist>
        </para>
        <para>To set the columns the "Activity information" property of the scale must be accessed.
            To specify the headers of the title column the following method is used</para>
        <para>
            <itemizedlist>
                <listitem>
                    <para><code>ActivityInfo::SetColTitles($aHeaderArray, $aMinWidths)</code></para>
                </listitem>
            </itemizedlist>
        </para>
        <para>The following code excerpt shows an example on how to do this</para>
        <para>
            <programlisting>$graph->scale->actinfo->SetColTitles(
    array( 'Note', 'Task', 'Duration', 'Start', 'Finish' ),
    array( 30 , 100 )); </programlisting>
        </para>
        <para>Furthermore it is possible to modify the background colors and the style and colors of
            the vertical dividing grid lines. In the previous image we used the lines</para>
        <para>
            <programlisting>&lt;?php
$graph->scale->actinfo->SetBackgroundColor( 'green:0.5@0.5' );
$graph->scale->actinfo->SetFont( FF_ARIAL , FS_NORMAL , 10 );
$graph->scale->actinfo->vgrid->SetStyle ( 'solid' );
$graph->scale->actinfo->vgrid->SetColor ( 'gray' ); 
?></programlisting>
        </para>
        <para>The style for the grid lines is as usual specified with one of the strings be
                "<code>solid</code>","<code>dashed</code>", "<code>dotted</code>" or
                "<code>longdashed</code>" as in other line formatting contexts within the library. </para>
        <para>It is also possible to specify if a small "3D" effect should be used in the titles. By
            default this is enabled. You can easily turn this of with a call to</para>
        <para>
            <programlisting>$graph->scale->actinfo->SetStyle( ACTINFO_2D ); </programlisting>
        </para>
        <para>To adjust the colors of the vertical dividing lines in the title the method
                <code>SetColor()</code> is used as in</para>
        <para>
            <programlisting>$graph->scale->actinfo->SetColor('navy');</programlisting>
        </para>
        <para>Once the format of the title column is set up the data in the columns (the texts)
            needs to be entered. </para>
        <para>This is done when the activity bars are added to the graph. By default only a single
            columns is used as a title and then the title of the activity is specified as a string.
            When multiple columns are used then the title of each activity is specified as an array
            of texts, each entry in the array corresponding to one column.</para>
        <para>Specifying two column titles could be done with the following creation of the activity
            bar</para>
        <para>
            <programlisting>$title1 = '...';
$title2 = '...';
$bar = new GanttBar(0 ,array( $title1 , $title2 ), "2003-11-23" , "2003-12-05" ); </programlisting>
        </para>
        <sidebar>
            <para>Apart from specifying the titles as separate entries in an array there is actually
                one additional (older) way to specify the text that should go into each column and
                that is to separate each text string with a "\t" tab character. So for example the
                lines above could also have been written as </para>
            <para>
                <programlisting>$title1 = '...';
$title2 = '...';
$bar = new GanttBar(0 , $title1 . "\t" . $title2, "2003-11-23" , "2003-12-05" ); </programlisting>
            </para>
            <para>Note the quote character used to encode the <code>"\t"</code> character. There is
                however a very crucial semantic difference between these two ways of specifying the
                texts and that is that with the method of tab characters the columns will not be
                automatically resized to fit the text string. This means that when the columns are
                setup they must have a big enough width to cater for all the strings.</para>
        </sidebar>
        <sect3>
            <title>Adjusting the individual fonts for each column</title>
            <para><emphasis role="italic">Note: This feature is only available in versions >= 3.0.3
                    of the library.</emphasis></para>
            <para>When using the method <code>GanttBar::title::SetFont()</code> the same font will
                be applied to all columns for that particular activity. To specify individual fonts
                for each column the method <code>GanttBar::title::SetColumnFonts()</code> must be
                used.</para>
            <para>This method accept an array of font arrays where each font array specifies the
                font family, style and size for that particular column. If fewer fonts specification
                than columns are given then the remaining columns will be using the default fonts
                specification (as defined by the <code>SetFont()</code> method).</para>
            <para>For example the two lines of code</para>
            <para>
                <programlisting>&lt;?php
$bar->title->SetFont(FF_ARIAL,FS_NORMAL,10);
$bar->title->SetColumnFonts(array(array(FF_ARIAL,FS_BOLD,11)));
?></programlisting>
            </para>
            <para>will cause the first column to be set in a bold font and the remaining columns
                falling back to the default non-bold font style.</para>
            <para>A complete example on how to use this is shown in <xref
                    xlink:href="#fig.ganttcolumnfontsex01"/> below.</para>
            <para>
                <programlisting>#=ganttcolumnfontsex01|Using different fonts for individual columns#</programlisting>
            </para>
        </sect3>
        <sect3>
            <title>Adding an overview title for all columns</title>
            <para>It is possible to add a title that spans all the defined title columns. An example
                of this is shown in <xref xlink:href="#fig.ganttmonthyearex4"/>. This title is
                specified with the property "<code>$tableTitle</code>" of the scale. Specifying a
                table title will automatically adjust the height of the column titles to fit the
                table title. The small code snippet below shows how to add a title.</para>
            <para>
                <programlisting>&lt;?php
$graph->scale->tableTitle->Set( 'Phase 1' );
$graph->scale->tableTitle->SetFont( FF_ARIAL , FS_NORMAL , 12 );
$graph->scale->SetTableTitleBackground( 'darkgreen@0.6' );
$graph->scale->tableTitle->Show( true );
?></programlisting>
            </para>
            <para>
                <programlisting>#=ganttmonthyearex4|Adding a spanning title over all title columns#</programlisting>
            </para>
            <para>
                <caution>
                    <para>Remember that the overall height available for both title column header
                        and the spanning column title is limited to the height of the specified
                        scale header. This means that having only a single scale header will not
                        leave enough room to add a spanning title.</para>
                </caution>
            </para>
        </sect3>
    </sect2>
    <sect2>
        <title>Built-in icons for use in activity titles</title>
        <para>To assist in getting visual clues to how to interpret activities in the Gantt chart it
            is possible to add icons in the title columns. These icons can also act as hot-spots in
            CSIM graphs. The available built-in icons are listed in <xref
                xlink:href="#fig.gantt-icons"/> together with there symbolic names.</para>
        <para>In order to add an icon in a title column first an instance of <code>class
                IconPlot</code> is created and it is then added in exactly the same was as a text
            string. The signature for the constructor is</para>
        <para>
            <itemizedlist>
                <listitem>
                    <para><code>IconPlot::__construct($aIcon,$aScale=1)</code></para>
                    <para><code>$aIcon</code>, is either one of the symbolic names in <xref
                            xlink:href="#fig.gantt-icons"/> or a text string which is a filename of
                        an arbitrary image to use as icon.</para>
                    <para><code>$aScale</code>, is the initial scaling of the image</para>
                </listitem>
            </itemizedlist>
        </para>
        <para>For example the following code snippet adds a "folder open image" in the first column
            and scaling it to be 60% of its original size</para>
        <para>
            <programlisting>&lt;?php
$iconopen = new  IconImage (GICON_FOLDEROPEN , 0.6);
$title2 = '...' ;
$bar  = new  GanttBar (0 ,array( $iconopen , $title2 ), '2003-11-23' , '2003-12-05' ); 
?></programlisting>
        </para>
        <para>To instead use an arbitrary image as icon the code would have to be changed to</para>
        <para>
            <programlisting>&lt;?php
$iconopen = new  IconImage ('myiconimage.jpg', 0.6);
$title2 = '...' ;
$bar  = new  GanttBar (0 ,array( $iconopen , $title2 ), '2003-11-23' , '2003-12-05' ); 
?></programlisting>
        </para>
        <para>
            <figure xml:id="fig.gantt-icons">
                <title>Built-in icons for Gantt charts</title>
                <informaltable>
                    <tgroup cols="3">
                        <colspec colname="c1" colnum="1"/>
                        <colspec colname="c2" colnum="2"/>
                        <colspec colname="c3" colnum="3"/>
                        <tbody>
                            <row>
                                <entry align="center">
                                    <para><inlinemediaobject><imageobject><imagedata
                                                  fileref="images/gantticon_error.png"
                                                /></imageobject></inlinemediaobject></para>
                                    <para><code>GICON_WARNINGYELLOW</code></para>
                                </entry>
                                <entry align="center">
                                    <para><inlinemediaobject><imageobject><imagedata
                                                  fileref="images/gantticon_warning.png"
                                                /></imageobject></inlinemediaobject></para>
                                    <para><code>GICON_WARNINGRED</code></para>
                                </entry>
                                <entry align="center">
                                    <para><inlinemediaobject><imageobject><imagedata
                                                  fileref="images/gantticon_edit.png"
                                                /></imageobject></inlinemediaobject></para>
                                    <para><code>GICON_TEXT</code></para>
                                </entry>
                            </row>
                            <row>
                                <entry align="center">
                                    <para><inlinemediaobject><imageobject><imagedata
                                                  fileref="images/gantticon_endconstrain.png"
                                                /></imageobject></inlinemediaobject></para>
                                    <para><code>GICON_ENDCONS</code></para>
                                </entry>
                                <entry align="center">
                                    <para><inlinemediaobject><imageobject><imagedata
                                                  fileref="images/gantticon_startconstrain.png"
                                                /></imageobject></inlinemediaobject></para>
                                    <para><code>GICON_STARTCONS</code></para>
                                </entry>
                                <entry align="center">
                                    <para><inlinemediaobject><imageobject><imagedata
                                                  fileref="images/gantticon_mail.png"
                                                /></imageobject></inlinemediaobject></para>
                                    <para><code>GICON_MAIL</code></para>
                                </entry>
                            </row>
                            <row>
                                <entry align="center">
                                    <para><inlinemediaobject><imageobject><imagedata
                                                  fileref="images/gantticon_calc.png"
                                                /></imageobject></inlinemediaobject></para>
                                    <para><code>GICON_CALC</code></para>
                                </entry>
                                <entry align="center">
                                    <para><inlinemediaobject><imageobject><imagedata
                                                  fileref="images/gantticon_viewmag.png"
                                                /></imageobject></inlinemediaobject></para>
                                    <para><code>GICON_MAGNIFIER</code></para>
                                </entry>
                                <entry align="center">
                                    <para><inlinemediaobject><imageobject><imagedata
                                                  fileref="images/gantticon_lock.png"
                                                /></imageobject></inlinemediaobject></para>
                                    <para><code>GICON_LOCK</code></para>
                                </entry>
                            </row>
                            <row>
                                <entry align="center">
                                    <para><inlinemediaobject><imageobject><imagedata
                                                  fileref="images/gantticon_stop.png"
                                                /></imageobject></inlinemediaobject></para>
                                    <para><code>GICON_STOP</code></para>
                                </entry>
                                <entry align="center">
                                    <para><inlinemediaobject><imageobject><imagedata
                                                  fileref="images/gantticon_folder_orange_open.png"
                                                /></imageobject></inlinemediaobject></para>
                                    <para><code>GICON_FOLDEROPEN</code></para>
                                </entry>
                                <entry align="center">
                                    <para><inlinemediaobject><imageobject><imagedata
                                                  fileref="images/gantticon_folder_orange.png"
                                                /></imageobject></inlinemediaobject></para>
                                    <para><code>GICON_FOLDER</code></para>
                                </entry>
                            </row>
                            <row>
                                <entry align="center">
                                    <para><inlinemediaobject><imageobject><imagedata
                                                  fileref="images/gantticon_file_important.png"
                                                /></imageobject></inlinemediaobject></para>
                                    <para><code>GICON_TEXTIMPORTANT</code></para>
                                </entry>
                                <entry/>
                                <entry/>
                            </row>
                        </tbody>
                    </tgroup>
                </informaltable>
            </figure>
        </para>
        <para>An example of using icons in the titles is shown in <xref
                xlink:href="#fig.gantticonex1"/></para>
        <para>
            <programlisting>#=gantticonex1|Adding built in icons in titles#</programlisting>
        </para>
    </sect2>
    <sect2>
        <title>More general Gantt formatting</title>
        <para>In this section we will show a few more ways by which you may customize the gantt
            chart itself. This include among other thing</para>
        <para>
            <itemizedlist>
                <listitem>
                    <para>Adding a table title (not to be confused with the graph title)</para>
                </listitem>
                <listitem>
                    <para>Adjusting appearance of the various lines in the bar chart</para>
                </listitem>
                <listitem>
                    <para>Adjusting the zoom factor for the width when using automatic
                        scaling</para>
                </listitem>
            </itemizedlist>
        </para>
        <sect3 xml:id="sec.zoom-factor">
            <title>Adjusting the scale zoom factor</title>
            <para>By default the scale will be just wide enough to fit the chosen scale headers with
                some small margins on each side. It is possible to adjust the width when using
                automatic graph sizing by setting a zoom factor for the scale. The default width
                corresponds to a zoom factor of 1.0.</para>
            <para>The zoom factor is adjusted by the method</para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para><code>GanttGraph::SetZoomFactor($aZoomFactor)</code></para>
                        <para><code>$aZoomFactor</code>, A real number that specifies the zoom of
                            the date scale. A zoom factor of 2.0 will double the default horizontal
                            spacing.</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>In the following two examples the same Gantt chart is first shown with a scale
                factor of 0.7 (=70% of the original width) and in <xref
                    xlink:href="#fig.ganttex13-zoom2"/> a zoom factor of 1.5 (=150%) is used.</para>
            <para>
                <programlisting>#=ganttex13-zoom1|A zoom factor of 0.7#</programlisting>
            </para>
            <para>
                <programlisting>#=ganttex13-zoom2|A zoom factor of 1.5#</programlisting>
            </para>
            <para>
                <note>
                    <para>There is no limit for the zoom factor but from a practical point of view
                        the useful range is [0.5,3.0]</para>
                </note>
            </para>
        </sect3>
        <sect3>
            <title>Adding a table title</title>
            <para>The (default) white area in the top left of the gantt table may have a title. This
                is accessed by the '<code>tableTitle</code>' property of the gantt scale. Using this
                is straightforward as the following code snippet shows.</para>
            <para>
                <programlisting>&lt;?php
$graph->scale->tableTitle->Set( '(Rev: 1.22)' );
$graph->scale->tableTitle->SetFont( FF_FONT1 , FS_BOLD );
$graph->scale->SetTableTitleBackground( 'silver' );
$graph->scale->tableTitle->Show (); 
?></programlisting>
            </para>
            <para>The example lines above also changes the default white background to silver. An
                example of this is shown in <xref xlink:href="#fig.ganttex16"/>. As can be seen the
                width of the left column which holds all the titles has been adjusted to make it
                wide enough to fit the table title.</para>
            <para>
                <programlisting>#=ganttex16|Adding a table title in the top left corner#</programlisting>
            </para>
        </sect3>
        <sect3>
            <title>Modifying the divider lines</title>
            <para>The vertical and horizontal lines between the activity titles and the plot area
                and the bars can be modified by accessing the vertical divider
                '<code>divider</code>' and the horizontal divider '<code>dividerh</code>' properties
                of the scale. <xref xlink:href="#fig.gantt-divider-lines"/> shows the exact location
                of the divider lines.</para>
            <para>
                <figure xml:id="fig.gantt-divider-lines">
                    <title>Gantt divider lines</title>
                    <mediaobject>
                        <imageobject><imagedata
                                fileref="images/gantt-divider-lines-original-amended.png"
                            /></imageobject>
                    </mediaobject>
                </figure>
            </para>
            <para>Again, this is straightforward as the following code snippet shows.</para>
            <para>
                <programlisting>&lt;?php
$graph->scale->divider->SetWeight( 3 );
$graph->scale->divider->SetColor( 'navy' );
$graph->scale->dividerh->SetWeight( 3 );
$graph->scale->dividerh->SetColor( 'navy' ); 
?></programlisting>
            </para>
            <para>An example of this can be seen in <xref xlink:href="#fig.ganttex18"/></para>
        </sect3>
        <sect3>
            <title>Modifying the box around the plot</title>
            <para>In a similar manner to the other plots in the library the Box around the plot can
                be modified with the gantt graph method '<code>GanttGraph::SetBox()</code>' . The
                following line will result in a thicker plot box around the plot area as can be seen
                in <xref xlink:href="#fig.ganttex18"/></para>
            <para>
                <programlisting>$graph->SetBox(true, 'navy', 3);</programlisting>
            </para>
            <para>
                <programlisting>#=ganttex18|Adjusting the plot box around the gantt chart#</programlisting>
            </para>
        </sect3>
        <sect3>
            <title>Horizontal grids and alternating line colors</title>
            <para>In order to make large charts easier to read it is possible to specify alternating
                an horizontal grid and optional alternating line colors in the background for Gantt
                charts. The horizontal grid is accessed through the <code>Graph::hgrid</code>
                property and the line (used in the grid) is accessed through the
                    <code>Graph::hgrid::line</code> sub-property.</para>
            <para>In order to specify alternating line colors the following method is used</para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para><code>HorizontalGridLine::SetRowFillColor($aColor1,$aColor2='')</code></para>
                        <para><code>$aColor1</code>, <code>$aColor2</code>, alternating color for
                            each activity line</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>For example, to use an alternating blue background with blue grid line the
                following lines would have to be added to the graph script</para>
            <para>
                <programlisting>&lt;?php
// Setup a horizontal grid
$graph->hgrid->Show();
$graph->hgrid->line->SetColor( 'lightblue' );
$graph->hgrid->SetRowFillColor( 'darkblue@0.9' ); 
?></programlisting>
            </para>
            <para>An example,of this is shown in <xref xlink:href="#fig.gantthgridex1"/></para>
        </sect3>
        <sect3>
            <title>Adding icons to Gantt graphs</title>
            <para>In the same way as for ordinary x-y graphs it is possible to add small images (or
                icons) to a Gantt graph by creating an instance of <code>class IconPlot</code> and
                then adding that instance to the graph. </para>
            <para>For example the following line will add an icon (similar to what was shown in ??)
                to a gantt chart with the result shown in <xref xlink:href="#fig.gantthgridex1"
                /></para>
            <para>
                <programlisting>&lt;?php
$icon = new IconPlot('penguin.png' , 0.01 , 0.95 , 1 , 15 );
$icon->SetAnchor('left', 'bottom');
$graph->Add( $icon ); 
?></programlisting>
            </para>
            <para>
                <programlisting>#=gantthgridex1|#</programlisting>
            </para>
        </sect3>
        <sect3>
            <title>Adjusting the vertical spacing between activity bars</title>
            <para>By default the library adds 20% margin above and below each activity bar. In order
                to set the activities closer or further away from each other the method</para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para><code>GanttGraph::SetVMarginFactor($aFractionMargin)</code></para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>can be used. For example</para>
            <para>
                <programlisting>$graph->SetVMarginFactor(0.0);</programlisting>
            </para>
            <para>will cause the gantt bars to touch each other since there will be no margins. If
                we instead use</para>
            <para>
                <programlisting>$graph->SetVMarginFactor(1.0);</programlisting>
            </para>
            <para>we will in effect get "double-line-spacing" since we add the width of one activity
                height as margin. The default 40% corresponds to</para>
            <para>
                <programlisting>$graph->SetVMarginFactor(0.4);</programlisting>
            </para>
        </sect3>
        <sect3>
            <title>Adjusting the margins with auto-sizing</title>
            <para>It is possible to use <code>GanttGraph::SetMargin()</code> to specify the margin
                for a Gantt graph even when the vertical height is determined automatically. For
                example to generate a graph with no left, right or bottom margin the following lines
                would be needed</para>
            <para>
                <programlisting>&lt;?php
$graph = new GanttGraph ( 500 );
$graph->SetMargin (0, 0, 30, 0); 
?></programlisting>
            </para>
        </sect3>
        <sect3>
            <title>Limiting the date range for the Gantt chart</title>
            <para>By default the scale will be wide enough to make room for all specified
                activities. It is however possible to manually set the scale range to limit the size
                of the Gantt chart.</para>
            <para>This is done by calling the method</para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para><code>GanttGraph::SetDateRange($aStartDate, $aEndDate)</code></para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>For example the following code snippet would set the specified start and end
                date</para>
            <para>
                <programlisting>$graph->SetDateRange('2001-12-20', '2002-01-20'); </programlisting>
            </para>
        </sect3>
        <sect3>
            <title>Specifying the first day in the week</title>
            <para>By default Monday is the first day of the week. It is possible to manually set an
                arbitrary start day by calling the method</para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para><code>GanttScale::SetWeekStart($aStartDay)</code></para>
                        <para><code>$aStartDay</code>, Specified as an integer in the range 0-6
                            where 0=Sunday, 1=Monday, ..., 6=Saturday</para>
                    </listitem>
                </itemizedlist>
            </para>
        </sect3>
        <sect3>
            <title>Adding plot icons to the graph</title>
            <para>In the same way as was described in <xref xlink:href="#sec.adding-icons-to-graph"
                /> for x-y graphs it is possible to add icons and country flags to a Gantt chart.
                The following code snippet adds a Norwegian flag to the top left corner of a
                graph</para>
            <para>
                <programlisting>&lt;?php
// Setup the Gantt graph
$graph = new GanttGraph();

// Create some activities
// ...

$icon = new IconPlot();
$icon->SetAnchor('left','top');
$icon->SetCountryFlag('norway');
$icon->SetPos(5,5);
$icon->SetMix(50);
$icon->SetScale(1.0);

// The above four method calls could also have been done as
// $icon->SetCountryFlag('norway', 5,5, 1.0, 50);

$graph->Add($icon);

// Any other gantt formatting
// ...</programlisting>
            </para>
            <para>The result of adding these lines to a typical Gantt chart is shown in <xref
                    xlink:href="#fig.ganttex17-flag"/></para>
            <para>
                <programlisting>#=ganttex17-flag|Adding a country flag to the top left corner of the gantt graph#</programlisting>
            </para>
            <para>For more details on adding icons to a graph see <xref
                    xlink:href="#sec.adding-icons-to-graph"/> .</para>
        </sect3>
        <sect3>
            <title>Adding text strings to the graph</title>
            <para>In exactly the same way as was described in <xref
                    xlink:href="#sec.adding-texts-to-graphs"/> it is also possible to add arbitrary
                formatted text paragraphs to the gantt chart. </para>
            <para>The position of the text strings is specified as either an absolute position in
                pixels (as usual the top left corner is (0,0)) or the position can be specified as a
                scale position with date and row index. The following two method of the text class
                is used for this</para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para><code>Text::SetPos($aPosX, $aPosY)</code></para>
                        <para>Set the absolute position for the text anchor point</para>
                    </listitem>
                    <listitem>
                        <para><code>Text::SetScalePos($aDate,$aRow)</code></para>
                        <para>Set the position for the text anchor point using the actual date scale
                            (as the horizontal position) and the row number as the vertical
                            position.</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>For example the lines below show how to add one text with absolute scale position
                in the top left corner and one text string at the second row at the date
                "2002-01.01"</para>
            <para>
                <programlisting>&lt;?php
// Add text to top left corner of graph
$txt1 = new Text();
$txt1->SetPos(5,2);
$txt1->Set("Note:\nEstimate done w148");
$txt1->SetFont(FF_ARIAL,FS_BOLD,12);
$txt1->SetColor('darkred');
$graph->Add($txt1);

// Add text to the top bar
$txt2 = new Text();
$txt2->SetScalePos('2002-01-01',1);
$txt2->SetFont(FF_ARIAL,FS_BOLD,12);
$txt2->SetAlign('left','center');
$txt2->Set("Remember this!");
$txt2->SetBox('yellow');
$graph->Add($txt2);
?></programlisting>
            </para>
            <para>The result of adding these lines to a typical gantt graph is shown in <xref
                    xlink:href="#fig.gantt_textex1"/></para>
            <para>
                <programlisting>#=gantt_textex1|Adding two text objects to a Gantt graph#</programlisting>
            </para>
            <para>Since there is no other changes in functionality we refer to <xref
                    xlink:href="#sec.adding-texts-to-graphs"/> for a full discussion of text
                paragraph features.</para>
            <para>
                <note>
                    <para>This feature was added in v2.5</para>
                </note>
            </para>
        </sect3>
    </sect2>
    <sect2 xml:id="sec.gantt-localizing">
        <title>Localizing the Gantt chart scale</title>
        <para>Since the name of the week and months are constructed by the library it must be
            possible to adjust which locale should be used to construct the names.</para>
        <para>Depending on the server setup of PHP there might be support for several locales. By
            default the locale is set to use the default locale on the server.</para>
        <para>A specific locale is specified with the locale string, for example American English is
            specified with the string 'EN_US', British English with 'EN_UK' 'nl_NL' for Dutch and so
            on. If the server installation does not support the specified locale an error message
            like the one shown in <xref xlink:href="#fig.gantt-locale-error"/> will be shown. </para>
        <para>
            <tip>
                <para>If the server is running on a Unix derivate the supported locales can be found
                    by the following command</para>
                <para><command>$> locale -a</command></para>
            </tip>
        </para>
        <para>
            <figure xml:id="fig.gantt-locale-error">
                <title>Error message when using an unsupported Locale in Gantt chart</title>
                <mediaobject>
                    <imageobject>
                        <imagedata fileref="images/gantt-locale-error.png"/>
                    </imageobject>
                </mediaobject>
            </figure>
        </para>
        <para>To set the locale the following method is used</para>
        <para>
            <itemizedlist>
                <listitem>
                    <para><code>GanttScale::SetDateLocale($aLocaleString)</code></para>
                </listitem>
            </itemizedlist>
        </para>
        <para>For example to set the locale to swedish the following line would be needed</para>
        <para>
            <programlisting>$graph->scale->SetDateLocale('sv_SE');</programlisting>
        </para>
        <para>An example of using Swedish locale is shown in <xref xlink:href="#fig.ganttex19"
            /></para>
        <para>
            <programlisting>#=ganttex19|Using Swedish locale. Notice the L for Lordag instead of S for Saturday#</programlisting>
        </para>
        <para>
            <note>
                <para>Internally the library uses the PHP function <code>setlocale()</code> and only
                    affects the category <code>LC_TIME</code></para>
            </note>
        </para>
    </sect2>
    <sect2>
        <title>CSIM Support in Gantt charts</title>
        <para>The generic description on how to use CSIM (Client side image maps) together with the
            library is fully described in <xref xlink:href="#chap.using-csim"/> .</para>
        <sect3>
            <title>Adding CSIM (Client side Image Maps) to Gantt charts</title>
            <para>Gantt charts can have independent (different targets) hot spots in both the
                activities and in the associated title (or titles) for each activity. For activities
                both activity bars and milestones support CSIM functionality.</para>
            <para>The targets and the associated "Alt" text for an activity bar is set by using one
                or both of the methods</para>
            <para><itemizedlist>
                    <listitem>
                        <para><code>GanttPlotObject::SetCSIMTarget($aTarget,$aAlt='',
                                $aWinTarget='')</code></para>
                    </listitem>
                    <listitem>
                        <para><code>GanttPlotObject::SetCSIMAlt($aAlt)</code></para>
                    </listitem>
                </itemizedlist>The following code snippet sets CSIM targets fro bot the entire
                activity bar as well as the title</para>
            <para>
                <programlisting>$bar->SetCSIMTarget( "http://localhost/abc/", "Alt Text for the bar" );
$bar->title->SetCSIMTarget( "http://localhost/abc", "Alt Text for the title" );</programlisting>
            </para>
            <para>The following properties of a Gantt object can have CSIM targets</para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para><code>GanttPlotObject::title</code>, </para>
                    </listitem>
                    <listitem>
                        <para><code>GanttPlotObject::leftmark</code>,
                                <code>BarPlot::rightmark</code></para>
                    </listitem>
                    <listitem>
                        <para><code>GanttPlotObject::caption</code></para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <note>
                    <para>In the example directory there are several complete examples of how to use
                        CSIM together with Gantt charts.</para>
                </note>
            </para>
        </sect3>
        <sect3>
            <title>Specifying CSIM entries for column titles</title>
            <para>In exactly the same way as for a single title it is possible to specify individual
                CSIM targets for each of the title columns. This is accomplished by specifying an
                array for both the target and the alt text instead of a single string as arguments
                for <code>SetCSIMTarget()</code> The following code snippet shows how to specify
                that.</para>
            <para>
                <programlisting>$bar->title->SetCSIMTarget(
    array('sometarget1.html', 'sometarget1.html'),
    array('alttext1', 'alttext2')); </programlisting>
            </para>
        </sect3>
    </sect2>
    <sect2>
        <title>Some final Gantt graph examples</title>
        <para>The example given below illustrates one or more of the features available for the
            gantt graphs and shows how they may be combined to achive the wanted effect.</para>
        <para/>
        <sect3>
            <title>Examples of using hours and minute scales</title>
            <para>
                <programlisting>#=gantthourminex1|Using multiple title columns with a scale of one day#</programlisting>
            </para>
            <para>
                <note>
                    <para>It is not possible to show less than one day in the scale. This is a
                        limitation of the library.</para>
                </note>
            </para>
        </sect3>
        <sect3>
            <title>Adding multiple activities with markers and indenting titles</title>
            <para>
                <programlisting>#=ganttex30|Using multiple markers and indenting titles in the Gantt chart#</programlisting>
            </para>
        </sect3>
        <sect3>
            <title>Using grouping of bars together with constraints</title>
            <para>
                <programlisting>#=ganttconstrainex2|Using a grouping bar together with constraints#</programlisting>
            </para>
        </sect3>
    </sect2>
</sect1>
